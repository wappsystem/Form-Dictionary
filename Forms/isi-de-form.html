<!DOCTYPE html>
<html>
<body>
    <head>
        <link href="wappsystem-form.css" rel="stylesheet" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.2/css/bootstrap.css" />
        <link href='https://fonts.googleapis.com/css?family=Roboto Slab' rel='stylesheet'>
        <link href='https://fonts.googleapis.com/css?family=Nunito Sans' rel='stylesheet'>
        <script type="text/javascript">
            function load_names() {
                var myCustomVariableName = document.querySelectorAll('input').forEach(function(e){
                    console.log(e)
                    if(e.type=='text' && e.name!='File_Name') {e.value=e.name;console.log(e.name)}
                    if(e.type=='radio') { var rvalue=e.value; e.type='text'; e.value=e.name + ' = '+rvalue;}
                    if(e.type=='checkbox') {e.type='text';e.value=e.name}
                    if(e.type=='date') {e.type='text';e.value=e.name}
                    if(e.type=='time') {e.type='text';e.value=e.name}
                    if(e.type=='number') {e.type='text';e.value=e.name}
                    if(e.type=='range') {e.type='text';e.value=e.name}
                });
                var myCustomVariableName = document.querySelectorAll('textarea').forEach(function(e){
                    console.log(e)
                    e.value=e.name;
                });
                myCustomVariableName = document.querySelectorAll('select').forEach(function(e){

                    console.log(e.options[1])
                    e.options[0].text=e.name;
                    for (var i=1;i<e.options.length;i++){
                        e.options[i].text=e.options[i].text+" = "+e.options[i].value;
                    }
                });
            }
            window.onload = load_names;
          </script>    
          </head>    
<div id=D__ID>

    <!--third html start -->
    <div class="container mt-95 mb-3">
        <div class="row">
            <!-- form container start -->
            <div class="col-12 col-lg-12 col-md-12 col-sm-12 mx-auto formbox">
                <div class="row">
                    <div class="col-12">
                        <!-- form start -->
                        <form id="F__ID">
                            <h3>Insomnia Severity Index</h3>
                            <!-- participant part for all tsak forms -------------------->
                            <div id="participant_div__ID">
                                <div class="form-group">
                                    <fieldset class="subquestions">
                                        <label><span class="">Participant</span>
                                            <input type=text name="Participant" class=form-control id=Participant__ID
                                                data-id="Participant" />
                                        </label><br>
                                        <label><span class="">Participant ID</span>
                                            <input type=text name="Participant_uid" class=form-control readonly />
                                        </label>
                                    </fieldset>
                                </div>
                            </div>
                            <div class="form-group">
                                <h4>1. Please rate the CURRENT (i.e. LAST 2 WEEKS) SEVERITY of your insomnia problem(s).
                                </h4>
                                <div class="questiongroup ">
                                    <fieldset class="subquestions">
                                        <label><span class="">A. Difficulty falling asleep</span>
                                            <input type=number class="form-control" name="ISI_1a" placeholder="">
                                        </label><br>
                                        <label><span class="">B. Difficulty staying asleep</span>
                                            <input type=number class="form-control" name="ISI_1b" placeholder="">
                                        </label><br>
                                        <label><span class="">C. Problem waking up too early</span>
                                            <input type=number class="form-control" name="ISI_1c" placeholder="">
                                        </label><br>
                                    </fieldset>
                                </div>
                            </div>
                            <div class="form-group">
                                <h4>2. How SATISFIED/DISSATISFIED are you with your CURRENT sleep pattern?</h4>
                                <div class="questiongroup">
                                    <fieldset>
                                        <label><span class=""></span>
                                            <input type=number class="form-control" name="ISI_2" placeholder="">
                                        </label><br>
                                    </fieldset>
                                </div>
                            </div>
                            <div class="form-group">
                                <h4>3. To what extent do you consider your sleep problem to INTERFERE with your daily
                                    functioning (e.g. daytime fatigue, mood, ability to function at work/daily chores,
                                    concentration, memory, mood, etc.) CURRENTLY?</h4>
                                <div class="questiongroup">
                                    <fieldset>
                                        <label><span class=""></span>
                                            <input type=number class="form-control" name="ISI_3" placeholder="">
                                        </label><br>
                                    </fieldset>
                                </div>
                            </div>
                            <div class="form-group">
                                <h4>4. How NOTICEABLE to others do you think your sleep problem is in terms of impairing
                                    the quality of your life?</h4>
                                <div class="questiongroup">
                                    <fieldset>
                                        <label><span class=""></span>
                                            <input type=number class="form-control" name="ISI_4" placeholder="">
                                        </label><br>
                                    </fieldset>
                                </div>
                            </div>
                            <div class="form-group">
                                <h4>5. How WORRIED/DISTRESSED are you about your current sleep problem?</h4>
                                <div class="questiongroup">
                                    <fieldset>
                                        <label><span class=""></span>
                                            <input type=number class="form-control" name="ISI_5" placeholder="">
                                        </label><br>
                                    </fieldset>
                                </div>
                            </div>
                            <div class="form-group">
                                <h4>Result
                                </h4>
                                <div class="questiongroup ">
                                    <fieldset class="subquestions">
                                        <label><span class="">ISI 1</span>
                                            <input type=number class="form-control" name="ISI_1" readonly>
                                        </label><br>
                                        <label><span class="">ISI</span>
                                            <input type=number class="form-control" name="ISI" readonly>
                                        </label><br>
                                    </fieldset>
                                </div>
                            </div>

                            <button type="submit" id="submit__ID" class="btn btn-primary btn-lg">Submit</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        function F__ID() {
            //-------------------------------------
            //VmInclude: __COMPONENT__/f/form.01.js
            //VmInclude: __CURRENT_PATH__/shared-form.js
            //-------------------------------------
            var before_submit = m.before_submit;
            m.before_submit = function (data, index) {
                if(data.ISI_2!='' && data.ISI_3!='' && data.ISI_4!='' && data.ISI_5!='' && data.ISI_1a!='' && data.ISI_1b!='' && data.ISI_1c!='' ){
                    data.ISI = (parseInt(data.ISI_2) + parseInt(data.ISI_3) + parseInt(data.ISI_4) + parseInt(data.ISI_5) + parseInt(data.ISI_1a) + parseInt(data.ISI_1b) + parseInt(data.ISI_1c)).toString();
                    data.ISI_1 = (parseInt(data.ISI_1a) + parseInt(data.ISI_1b) + parseInt(data.ISI_1c)).toString();
                }
                return before_submit(data, index);
            }
            //-------------------------------------
        }
    </script>
    <style>
        #D__ID .mt-95 {
            max-width: 600px;
        }

        /*VmInclude:__CURRENT_PATH__/wappsystem-form.css*/
    </style>
</div>